/* eslint-disable max-len */
const popup127026 = `<div class="popup-127026">
<div class="popup-wrapper">
    <svg class="popup-close" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <defs>
            <style>.a {
                fill: none;
                opacity: 0.5;
            }

            .b {
                fill: #fff;
            }</style>
        </defs>
        <rect class="a" width="24" height="24"/>
        <path class="popup-closeColor"
              
              d="M15.684,12.5l6.1-6.1a2.125,2.125,0,0,0,0-3.183,2.124,2.124,0,0,0-3.184,0l-6.1,6.1-6.1-6.1a2.124,2.124,0,0,0-3.184,0,2.125,2.125,0,0,0,0,3.183l6.1,6.1-6.1,6.1a2.126,2.126,0,0,0,0,3.184,2.126,2.126,0,0,0,3.184,0l6.1-6.1,6.1,6.1a2.126,2.126,0,0,0,3.184,0,2.126,2.126,0,0,0,0-3.184Z"
              transform="translate(-0.5 -0.5)"/>
    </svg>
    <div class="popup-header">
        <h3 class="header-title">PSSSST....</h3>
        <p class="header-text">Unser persönliches Vorteilsangebot für dich: Jetzt congstar X einen Monat gratis
            testen</p>
    </div>
    <div class="popup-content">
        <div class="wrapper-logoImg">
            <img src="https://storage.kameleoon.eu/congstar/P07_congstar_X_Try_%26_Buy/logo.png">
        </div>
        <div class="wrapper-girlImg">
            <img src="https://storage.kameleoon.eu/congstar/P07_congstar_X_Try_%26_Buy/girl2.png">
        </div>
        <div class="mainBlock">
            <div class="mainBlock-header">
                <h6 class="mainBlock-title">congstar X</h6>
            </div>
            <div class="mainBlock-wrapper">
                <div class="mainBlock-info">
                    <ul class="list">
                        <li class="listItem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <defs>
                                    <style>.a {
                                        fill: none;
                                    }

                                    .b {
                                        fill: #d95e0f;
                                        fill-rule: evenodd;
                                    }</style>
                                </defs>
                                <rect class="a" width="24" height="24"/>
                                <path class="b"
                                      d="M13.891,14.1V12.727a2.968,2.968,0,0,0-.885-.4,4.838,4.838,0,0,0-1.609-.242,3.251,3.251,0,0,0-1.69.4,1.413,1.413,0,0,0-.563,1.13,1.51,1.51,0,0,0,.563,1.293,2.725,2.725,0,0,0,1.77.484,2.95,2.95,0,0,0,1.368-.4A1.9,1.9,0,0,0,13.891,14.1Zm8.207.4a6.244,6.244,0,0,1-.966,1.938A3.616,3.616,0,0,1,19.6,17.573a4.705,4.705,0,0,1-1.85.323,3.285,3.285,0,0,1-2.012-.565,2.789,2.789,0,0,1-.965-.969,1.814,1.814,0,0,1-.4.323,3.833,3.833,0,0,1-.966.565,5.559,5.559,0,0,1-1.046.4,5.532,5.532,0,0,1-2.816-.081A3.208,3.208,0,0,1,8.1,16.765a4.085,4.085,0,0,1-1.046-1.292,4.492,4.492,0,0,1-.4-1.858,4.409,4.409,0,0,1,.4-1.777A3.789,3.789,0,0,1,8.1,10.627,5.331,5.331,0,0,1,9.626,9.9a6.3,6.3,0,0,1,3.46,0l.724.242V9.335a1.036,1.036,0,0,0-.482-.97,3.468,3.468,0,0,0-1.771-.323A7.037,7.037,0,0,0,10.19,8.2a5.535,5.535,0,0,0-1.449.727L7.615,6.912a8.446,8.446,0,0,1,2.092-.97A8.1,8.1,0,0,1,11.718,5.7a6.181,6.181,0,0,1,3.38.888,3.347,3.347,0,0,1,1.368,2.827V14.1a1.29,1.29,0,0,0,.321.969,1.452,1.452,0,0,0,1.127.323,1.513,1.513,0,0,0,1.529-.888,6.623,6.623,0,0,0,.563-2.908,7.369,7.369,0,0,0-.644-2.988,7.611,7.611,0,0,0-1.69-2.5,7.948,7.948,0,0,0-2.574-1.7,8.477,8.477,0,0,0-3.219-.646,8.166,8.166,0,0,0-3.218.646A7.942,7.942,0,0,0,6.086,6.1,7.2,7.2,0,0,0,4.4,8.688a8.52,8.52,0,0,0-.564,3.231A10.039,10.039,0,0,0,4.4,15.15a7.983,7.983,0,0,0,1.689,2.585,7.942,7.942,0,0,0,2.575,1.7,8.472,8.472,0,0,0,3.218.646,11.965,11.965,0,0,0,1.77-.162,4.836,4.836,0,0,0,1.69-.646l.322-.161.965,2.18-.321.162a11,11,0,0,1-2.253.808,7.866,7.866,0,0,1-2.092.242,10.169,10.169,0,0,1-4.184-.808,9.43,9.43,0,0,1-3.3-2.18A9.471,9.471,0,0,1,2.305,16.2,11.81,11.81,0,0,1,1.5,12a10.273,10.273,0,0,1,.805-4.2A9.471,9.471,0,0,1,4.477,4.488a9.43,9.43,0,0,1,3.3-2.18A11.684,11.684,0,0,1,11.96,1.5a10.551,10.551,0,0,1,4.264.808,10.7,10.7,0,0,1,3.3,2.18,11.387,11.387,0,0,1,2.172,3.231A10.776,10.776,0,0,1,22.5,11.6,19.335,19.335,0,0,1,22.1,14.5Z"/>
                            </svg>
                            <span class="listItem-text">200 GB/Monat</span> <br> <span class="listItem-description">flexibel mobil und zuhause nutzbar</span>
                        </li>
                        <li class="listItem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <defs>
                                    <style>.a {
                                        fill: none;
                                    }

                                    .b {
                                        fill: #d95e0f;
                                    }</style>
                                </defs>
                                <rect class="a" width="24" height="24"/>
                                <path class="b"
                                      d="M2.817,20a1.078,1.078,0,0,1-.7-.321,1.1,1.1,0,0,1-.319-.779l0-7.35a1.1,1.1,0,0,1,.318-.78,1.073,1.073,0,0,1,.769-.323l5.877,0C7.689,8.393,7.429,6.616,8.206,5.648c.287-.357.522-.668.76-.944l3.245,4.274L11.8,9.41a.819.819,0,0,1-.456.241q.25.392.53.789h3.5a1.1,1.1,0,0,1,1.023,1.1l0,3.623c.229.176.46.347.687.506a.875.875,0,0,1,.231-.478l.448-.46.718-.736,4.144,3.288-.67.773c-.313.3-.669.6-1.047.9-.914.723-2.582.479-4.51-.577v.517A1.1,1.1,0,0,1,15.318,20L2.882,20Zm1.2-1.169,10.191,0-2.944-2.138C9.9,17.88,9.391,18.039,9.1,18.039l-.041,0c-.294-.017-.8-.188-2.106-1.326Zm-1.066-.507,3.2-2.6c-.913-.874-2.42-2.14-3.206-2.976ZM12.057,15.7l3.192,2.614,0-5.577C14.462,13.566,12.958,14.83,12.057,15.7ZM3.865,11.614A51.973,51.973,0,0,0,9.1,16.854a56.987,56.987,0,0,0,5.218-5.243Zm14.623,2.381.483-.495a.878.878,0,0,1,1.278.049l2.141,1.692c.365.383.891.861.428,1.736a3.2,3.2,0,0,1-.187.306ZM8.967,4.7,9.708,4c.084-.062.172-.123.266-.181.739-.454,1.292.065,1.657.449l1.616,2.243A.979.979,0,0,1,13.3,7.844l-.372.389-.712.745Z"
                                      transform="translate(-0.79 -0.639)"/>
                            </svg>
                            <span class="listItem-text">Allnet Flat</span></li>
                        <li class="listItem">
                            <svg class="sim-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <defs>
                                    <style>.a {
                                        fill: none;
                                        opacity: 0.504;
                                    }

                                    .b {
                                        fill: #d95e0f;
                                        fill-rule: evenodd;
                                    }</style>
                                </defs>
                                <g transform="translate(-60 -492)">
                                    <rect class="a" width="24" height="24" transform="translate(60 492)"/>
                                    <path class="b"
                                          d="M2,7.938a1.841,1.841,0,0,1,.577-1.381A1.89,1.89,0,0,1,3.938,6H20.021a1.871,1.871,0,0,1,1.381.557A2.026,2.026,0,0,1,22,7.938V14a2.992,2.992,0,0,1-.185.784,1.916,1.916,0,0,1-.433.66l-3.176,3.092a1.881,1.881,0,0,1-.659.434,2.155,2.155,0,0,1-.784.144H3.938a1.89,1.89,0,0,1-1.361-.557A1.84,1.84,0,0,1,2,17.175V7.938Zm8.907-.7H7.525L8.8,8.309v1.32l-.866.743v2.433l.866.741v1.32L7.525,15.938h3.341L9.588,14.866v-1.32l.865-.741V10.413L9.588,9.67V8.35l1.278-1.072Zm3.258.041H11.938L10.247,8.639v.7l.7.536h4.082V8.185a.915.915,0,0,0-.908-.907Zm-7.671,0H4.309a.814.814,0,0,0-.619.268.913.913,0,0,0-.248.639V9.876H7.484l.66-.536v-.7L6.453,7.278Zm4.661,3.3V12.6h3.876v-2.02Zm-7.712,0V12.6H7.32v-2.02Zm7.464,2.68-.66.577v.7L11.938,15.9h2.185a.915.915,0,0,0,.908-.907V13.258ZM4.309,15.9H6.494l1.692-1.361v-.7l-.661-.577H3.442V14.99a.908.908,0,0,0,.248.639.8.8,0,0,0,.619.268h0Z"
                                          transform="translate(60 491.5)"/>
                                </g>
                            </svg>
                            <span class="listItem-text sim-text">2 SIM-Karten</span></li>
                    </ul>
                </div>
                <div class="offer">
                    <span class="offer-header">aktion</span>
                    <p class="offer-text">Erster Monat gratis + Entfall der <br> Bereitstellungskosten</p>
                </div>
                <div class="separator"></div>
                <div class="price">
                    <span class="price-integer">0</span>
                    <span class="price-modulo">00</span>
                    <span class="price-unit">€ mtl.</span>
                    <svg class="price-img" xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                         viewBox="0 0 14 14">
                        <defs>
                            <style>.a {
                                fill: none;
                                opacity: 0.5;
                            }</style>
                        </defs>
                        <rect class="a" width="14" height="14"/>
                        <path d="M7.416,1a6.253,6.253,0,0,1,2.5.5,6.458,6.458,0,0,1,3.42,3.42,6.257,6.257,0,0,1,.5,2.5,6.251,6.251,0,0,1-.5,2.5,6.456,6.456,0,0,1-3.42,3.42,6.243,6.243,0,0,1-2.5.5,6.245,6.245,0,0,1-2.5-.5A6.458,6.458,0,0,1,1.5,9.912a6.241,6.241,0,0,1-.5-2.5,6.247,6.247,0,0,1,.5-2.5A6.459,6.459,0,0,1,4.921,1.5,6.255,6.255,0,0,1,7.416,1Zm2.12,11.456a5.626,5.626,0,0,0,1.725-1.175,5.461,5.461,0,0,0,1.165-1.735,5.363,5.363,0,0,0,.424-2.129A5.294,5.294,0,0,0,12.426,5.3a5.483,5.483,0,0,0-2.89-2.891,5.3,5.3,0,0,0-2.12-.424A5.193,5.193,0,0,0,5.3,2.416,5.555,5.555,0,0,0,2.406,5.345a5.51,5.51,0,0,0,0,4.239,5.333,5.333,0,0,0,1.166,1.725A5.564,5.564,0,0,0,5.3,12.465a5.284,5.284,0,0,0,2.119.424A5.2,5.2,0,0,0,9.536,12.456ZM7.956,3.967a.511.511,0,0,0-.54-.4.52.52,0,0,0-.539.443L6.723,6.684,4.1,6.029a.46.46,0,0,0-.578.347.513.513,0,0,0,.251.655l2.563.887L4.854,10.23a.473.473,0,0,0,.154.655.5.5,0,0,0,.674-.019L7.416,8.708l1.735,2.158a.5.5,0,0,0,.674.019.474.474,0,0,0,.154-.655L8.5,7.918l2.563-.944a.486.486,0,0,0,.25-.626.5.5,0,0,0-.578-.357l-2.62.636Z"
                              transform="translate(-0.417 -0.417)"/>
                    </svg>
                    <span class="price-discount">statt <span
                            style="text-decoration: line-through">60,00 €</span></span>
                </div>
            </div>
            <div class="button-wrapper">
                    <button class="button"></button>
                    
                </div>
        </div>
    </div>
</div>
</div>`;
/* eslint-enable max-len */

const goals = {
    '[P07] Klick Popup Try & Buy': 230944
};

const classes = '.popup-close, .popup-127026, .popup-closeColor';

function initPopup() {
    if (!localStorage.getItem('KamDev-stopShowPopup')) {
        fetch('https://www.congstar.de/portal/congstar-x/congstar-x-tarif/?sp=cweb&spfr=*&cc=bsp-11gtfu');
        document.body.insertAdjacentHTML('afterbegin', popup127026);
        document.body.classList.add('overflowHidden');
    }
}

initPopup();

function stopShowPopup() {
    localStorage.setItem('KamDev-stopShowPopup', 'true');
}

const popup = document.querySelector('.popup-127026');

if (popup) {
    popup.addEventListener('click', ({ target }) => {
        if (target.matches(classes)) {
            popup.remove();
            document.body.classList.remove('overflowHidden');
            if (target.classList.value === 'popup-close'
                || target.classList.value === 'popup-closeColor') {
                Kameleoon.API.Goals.processConversion(goals['[P07] Klick Popup Try & Buy']);
            }
        } else {
            Kameleoon.API.Goals.processConversion(goals['[P07] Klick Popup Try & Buy']);
            sessionStorage.setItem('KamDev-promoURL', 'true');
            location.href = 'https://www.congstar.de/portal/congstar-x/congstar-x-tarif/?sp=cweb&spfr=*&cc=bsp-11gtfu';
        }
    });
}

if (!localStorage.getItem('KamDev-stopShowPopup')) {
    Kameleoon.API.Core.runWhenConditionTrue(() => Kameleoon.API.CurrentVisit.conversions[229595]
        || Kameleoon.API.CurrentVisit.conversions[230944],
    () => {
        stopShowPopup();
    });
}
